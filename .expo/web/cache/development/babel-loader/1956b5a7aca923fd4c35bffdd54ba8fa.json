{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.v1 = void 0;\n\nvar stringify_1 = require(\"./stringify\");\n\nvar rng_1 = require(\"./rng\");\n\nvar _nodeId;\n\nvar _clockseq;\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\nvar v1 = function v1(options, buf) {\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var i = buf && offset || 0;\n  var b = buf || new Uint8Array(16);\n  var node = options && options.node ? options.node : _nodeId;\n  var clockseq = options && options.clockseq ? options.clockseq : _clockseq;\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options && options.random ? options.random : options && options.rng ? options.rng() : rng_1.rng();\n\n    if (node == null) {\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  var msecs = options && options.msecs ? options.msecs : Date.now();\n  var nsecs = options && options.nsecs ? options.nsecs : _lastNSecs + 1;\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;\n\n  if (dt < 0 && options && !options.clockseq) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  if ((dt < 0 || msecs > _lastMSecs) && options && !options.nsecs) {\n    nsecs = 0;\n  }\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n  msecs += 12219292800000;\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n  b[i++] = tmh >>> 24 & 0xf | 0x10;\n  b[i++] = tmh >>> 16 & 0xff;\n  b[i++] = clockseq >>> 8 | 0x80;\n  b[i++] = clockseq & 0xff;\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify_1.stringify(b);\n};\n\nexports.v1 = v1;","map":{"version":3,"mappings":"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","names":["_nodeId","_clockseq","_lastMSecs","_lastNSecs","v1","options","buf","offset","i","b","Uint8Array","node","clockseq","seedBytes","random","rng","rng_1","msecs","Date","now","nsecs","dt","Error","tl","tmh","n","stringify_1","exports"],"sourceRoot":"","sources":["../src/v1.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}