{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.v35 = void 0;\n\nvar stringify_1 = require(\"./stringify\");\n\nvar parse_1 = require(\"./parse\");\n\nvar utils_1 = require(\"./utils\");\n\nvar v35 = function v35(name, version, hashfunc) {\n  var generateUUID = function generateUUID(value, namespace, buf) {\n    var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    if (typeof value === 'string') {\n      value = utils_1.stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse_1.parse(namespace);\n    }\n\n    if (namespace && namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    }\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = utils_1.stringToBytes(hashfunc(utils_1.bytesToString(bytes)));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n    }\n\n    return buf ? buf : stringify_1.stringify(bytes);\n  };\n\n  return generateUUID;\n};\n\nexports.v35 = v35;","map":{"version":3,"mappings":";;;;;;;AACA;;AACA;;AACA;;AASO,IAAMA,GAAG,GAAG,SAANA,GAAM,CACjBC,IADiB,EAEjBC,OAFiB,EAGjBC,QAHiB,EAID;EAChB,IAAMC,YAAY,GAAG,SAAfA,YAAe,CACnBC,KADmB,EAEnBC,SAFmB,EAGnBC,GAHmB,EAKE;IAAA,IADrBC,MACqB,uEADJ,CACI;;IACrB,IAAI,OAAOH,KAAP,KAAiB,QAArB,EAA+B;MAC7BA,KAAK,GAAGI,sBAAcJ,KAAd,CAAR;IACD;;IAED,IAAI,OAAOC,SAAP,KAAqB,QAAzB,EAAmC;MACjCA,SAAS,GAAGI,cAAMJ,SAAN,CAAZ;IACD;;IAED,IAAIA,SAAS,IAAIA,SAAS,CAACK,MAAV,KAAqB,EAAtC,EAA0C;MACxC,MAAMC,SAAS,CACb,kEADa,CAAf;IAGD;;IAKD,IAAIC,KAAK,GAAG,IAAIC,UAAJ,CAAe,KAAKT,KAAK,CAACM,MAA1B,CAAZ;IACAE,KAAK,CAACE,GAAN,CAAUT,SAAV;IACAO,KAAK,CAACE,GAAN,CAAUV,KAAV,EAAiBC,SAAS,CAACK,MAA3B;IACAE,KAAK,GAAGJ,sBAAcN,QAAQ,CAACM,sBAAcI,KAAd,CAAD,CAAtB,CAAR;IAEAA,KAAK,CAAC,CAAD,CAAL,GAAYA,KAAK,CAAC,CAAD,CAAL,GAAW,IAAZ,GAAoBX,OAA/B;IACAW,KAAK,CAAC,CAAD,CAAL,GAAYA,KAAK,CAAC,CAAD,CAAL,GAAW,IAAZ,GAAoB,IAA/B;;IAEA,IAAIN,GAAJ,EAAS;MACP,KAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwB,EAAEA,CAA1B,EAA6B;QAC3BT,GAAG,CAACC,MAAM,GAAGQ,CAAV,CAAH,GAAkBH,KAAK,CAACG,CAAD,CAAvB;MACD;IACF;;IAED,OAAOT,GAAG,GAAGA,GAAH,GAASU,sBAAUJ,KAAV,CAAnB;EACD,CAtCD;;EAwCA,OAAOT,YAAP;AACD,CA9CM;;AAAMc,cAAGlB,GAAH","names":["v35","name","version","hashfunc","generateUUID","value","namespace","buf","offset","utils_1","parse_1","length","TypeError","bytes","Uint8Array","set","i","stringify_1","exports"],"sourceRoot":"","sources":["../src/v35.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}